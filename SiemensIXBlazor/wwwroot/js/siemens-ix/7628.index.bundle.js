// -----------------------------------------------------------------------
// SPDX-FileCopyrightText: 2024 Siemens AG
//
// SPDX-License-Identifier: MIT
//
// This source code is licensed under the MIT license found in the
// LICENSE file in the root directory of this source tree.
//  -----------------------------------------------------------------------

"use strict";(self.webpackChunknpmjs=self.webpackChunknpmjs||[]).push([[7628],{7628:(t,e,o)=>{o.r(e),o.d(e,{ix_validation_tooltip:()=>n});var i=o(6969),s=o(5297);const n=class{constructor(t){(0,i.r)(this,t),this.onSubmitBind=this.onSubmit.bind(this),this.onInputFocusBind=this.onInputFocus.bind(this),this.message=void 0,this.placement="top",this.suppressAutomaticPlacement=!1,this.isInputValid=!0,this.tooltipPosition=void 0,this.arrowPosition=void 0}get arrow(){return this.hostElement.shadowRoot.querySelector("#arrow")}get inputElement(){return this.hostElement.querySelector("input")}get formElement(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.form}get tooltipElement(){return this.hostElement.shadowRoot.querySelector(".validation-tooltip")}destroyAutoUpdate(){this.tooltipElement&&(this.tooltipElement.style.display="none"),this.autoUpdateCleanup&&this.autoUpdateCleanup()}applyTooltipPosition(){this.tooltipElement.style.display="block";let t={strategy:"fixed",middleware:[(0,s.i)(),(0,s.s)(),(0,s.o)({mainAxis:8})]};this.suppressAutomaticPlacement||t.middleware.push((0,s.f)({fallbackStrategy:"initialPlacement"})),t.placement=this.placement,this.autoUpdateCleanup=(0,s.a)(this.inputElement,this.tooltipElement,(async()=>{t.middleware=[...t.middleware,(0,s.b)({element:this.arrow})];const e=await(0,s.c)(this.inputElement,this.tooltipElement,t);if(e.middlewareData.arrow){const{x:t,y:o}=e.middlewareData.arrow;this.arrowPosition={x:t,y:o},Object.assign(this.arrow.style,{left:null!=t?`${t}px`:"",top:null!=o?`${o}px`:""})}this.tooltipPosition={x:e.x,y:e.y}}),{ancestorResize:!0,ancestorScroll:!0,elementResize:!0})}componentDidLoad(){if(!this.inputElement)throw Error("Validation tooltip is only working with an direct input child.");if(!this.formElement)throw Error("Validation tooltip is only working with an form element.");this.formElement.addEventListener("submit",this.onSubmitBind),this.inputElement.addEventListener("focus",this.onInputFocusBind),this.observer=new MutationObserver((()=>{this.inputElement.classList.contains("is-invalid")&&(this.isInputValid=!1,this.validationChanged())})),this.observer.observe(this.inputElement,{childList:!1,subtree:!1,attributes:!0,attributeFilter:["class"]})}onInputFocus(){this.isInputValid=!0}onSubmit(){this.formElement.classList.contains("needs-validation")&&(this.isInputValid=this.inputElement.validity.valid)}disconnectedCallback(){var t,e,o;null===(t=this.observer)||void 0===t||t.disconnect(),this.destroyAutoUpdate(),null===(e=this.formElement)||void 0===e||e.removeEventListener("submit",this.onSubmitBind),null===(o=this.inputElement)||void 0===o||o.removeEventListener("focus",this.onInputFocusBind)}validationChanged(){this.isInputValid?this.destroyAutoUpdate():this.applyTooltipPosition()}render(){var t,e;return(0,i.h)(i.H,{key:"67aacf7f22d2d165674ab78c2f590c54abe33420"},(0,i.h)("slot",{key:"e0c33f6e04e6ce11caeb8dba4318214699de0f4c"}),(0,i.h)("div",{key:"3c5d508386e333a2ca50dc5bfe6ab59375c60e37",role:"tooltip",style:{display:"none",position:"fixed",top:"0",left:"0",transform:`translate(${Math.round((null===(t=this.tooltipPosition)||void 0===t?void 0:t.x)||0)}px,${Math.round((null===(e=this.tooltipPosition)||void 0===e?void 0:e.y)||0)}px)`},class:"validation-tooltip text-default"},this.message,(0,i.h)("slot",{key:"8e87f49c00ea3916fd83a3b7e69b996311197dcb",name:"tooltip-message"}),(0,i.h)("div",{key:"1bd0d2d368cb7cb0fa113605522fff53831f2c35",id:"arrow"})))}get hostElement(){return(0,i.g)(this)}static get watchers(){return{isInputValid:["validationChanged"]}}};n.style='.text-xs{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.625rem;font-weight:400;line-height:1.4em;color:var(--theme-color-std-text)}.text-s{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text)}.text-caption{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text)}.text-caption-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1em;color:var(--theme-color-std-text)}.text-default{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text)}.text-default-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.143em;color:var(--theme-color-std-text)}.text-default-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.429em;color:var(--theme-color-std-text)}.text-default-title-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.143em;color:var(--theme-color-std-text)}.text-l{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text)}.text-l-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.25em;color:var(--theme-color-std-text)}.text-l-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text)}.text-l-title-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.25em;color:var(--theme-color-std-text)}.text-h2{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:700;line-height:1.455em;color:var(--theme-color-std-text)}.text-xl{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:400;line-height:1.091em;color:var(--theme-color-std-text)}a{color:var(--theme-color-primary)}:host{display:inline-block;position:relative;width:100%}:host .validation-tooltip{background-color:var(--theme-tootlip--background);color:var(--theme-tooltip--color);padding:5px 10px;border-radius:4px;font-size:13px;border:1px solid var(--theme-tooltip--border-color);box-shadow:0 0 2px 0 rgba(0, 0, 40, 0.1), 0 4px 8px 0 rgba(0, 0, 40, 0.1), 0 12px 18px 0 rgba(0, 0, 40, 0.1)}:host .validation-tooltip #arrow,:host .validation-tooltip #arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host .validation-tooltip #arrow{visibility:hidden}:host .validation-tooltip #arrow::before{visibility:visible;content:"";transform:rotate(45deg);background-color:var(--theme-tootlip--background)}:host .validation-tooltip>#arrow{bottom:-5px}:host .validation-tooltip>#arrow::before{border-right:1px solid var(--theme-tooltip--border-color);border-bottom:1px solid var(--theme-tooltip--border-color)}'}}]);