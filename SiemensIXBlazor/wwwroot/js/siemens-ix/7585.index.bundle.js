// -----------------------------------------------------------------------
// SPDX-FileCopyrightText: 2024 Siemens AG
//
// SPDX-License-Identifier: MIT
//
// This source code is licensed under the MIT license found in the
// LICENSE file in the root directory of this source tree.
//  -----------------------------------------------------------------------

"use strict";(self.webpackChunknpmjs=self.webpackChunknpmjs||[]).push([[7585],{9798:(e,t,n)=>{n.d(t,{m:()=>i});const o={sm:"(max-width: 48em)",md:"(min-width: 48.0625em) and (max-width: 80em)",lg:"(min-width: 80.0625em)"},i=e=>{if("undefined"!=typeof window&&window.matchMedia){const t=o[e];return window.matchMedia(t).matches}return!1}},3879:(e,t,n)=>{n.d(t,{A:()=>h,a:()=>s,c:()=>r,u:()=>a});var o=n(2483);class i extends Event{constructor(e,t,n){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=n}}function s(e,t,n,o){let s;return e.dispatchEvent(new i(t,((e,t)=>{n(e,t),s=t}),o)),{unsubscribe:()=>{s()}}}function a(e,t,n){const i=new o.T,s=new o.T,a=new Set;return e.addEventListener("context-request",(e=>{(null==e?void 0:e.context.name)===t.name&&(e.stopPropagation(),e.subscribe&&a.add(e),i.emit(e),n&&e.callback(n,(()=>{a.delete(e)})))})),s.on((e=>{a.forEach((t=>t.callback(e,(()=>{a.delete(t)}))))})),{emit:e=>{s.emit(e)}}}const r=e=>e.closest("ix-menu"),h={name:"application-layout-context",initialValue:{hideHeader:!1,host:null,sidebar:!1}}},313:(e,t,n)=>{n.d(t,{s:()=>i}),n(5272);var o=n(8934);async function i(e){const t=document.createElement("ix-application-switch-modal");t.config=e;const n=(await(0,o.b)({content:t,size:"840",closeOnBackdropClick:!0})).htmlElement.querySelector("ix-application-switch-modal");return e=>{n.config=e}}},7585:(e,t,n)=>{n.r(t),n.d(t,{ix_application_header:()=>l});var o=n(6969),i=n(313),s=n(7767),a=n(3879),r=n(2033),h=n(4428);n(5272),n(8934),n(9798);const l=class{constructor(e){(0,o.r)(this,e),this.name=void 0,this.breakpoint="lg",this.menuExpanded=!1,this.suppressResponsive=!1,this.hasSlottedElements=!1,this.applicationLayoutContext=void 0}componentWillLoad(){(0,a.a)(this.hostElement,a.A,(e=>{if("map-navigation"===(null==e?void 0:e.host))return this.suppressResponsive=!0,void(this.breakpoint="md");this.breakpoint=s.a.breakpoint,this.applicationLayoutContext=e,this.tryUpdateAppSwitch()}),!0),this.menuDisposable=r.m.expandChange.on((e=>{this.menuExpanded=e})),this.modeDisposable=s.a.onChange.on((e=>{this.suppressResponsive?this.breakpoint="md":this.breakpoint=e})),this.updateIsSlottedContent()}componentDidLoad(){this.attachSiemensLogoIfLoaded()}disconnectedCallback(){var e,t;null===(e=this.menuDisposable)||void 0===e||e.dispose(),null===(t=this.modeDisposable)||void 0===t||t.dispose()}isLogoSlotted(){return 0!==this.hostElement.shadowRoot.querySelector('slot[name="logo"]').assignedNodes({flatten:!0}).length}async attachSiemensLogoIfLoaded(){await window.customElements.whenDefined("ix-siemens-logo");const e=document.createElement("ix-siemens-logo");this.isLogoSlotted()||this.hostElement.shadowRoot.querySelector(".logo").appendChild(e)}async onMenuClick(){r.m.toggle()}resolveContextMenuButton(){return new Promise((e=>(0,o.a)((()=>e(this.hostElement.shadowRoot.querySelector("[data-context-menu]"))))))}tryUpdateAppSwitch(){var e;this.callbackUpdateAppSwitchModal&&this.callbackUpdateAppSwitchModal(null===(e=this.applicationLayoutContext)||void 0===e?void 0:e.appSwitchConfig)}async showAppSwitch(){var e;this.callbackUpdateAppSwitchModal=await(0,i.s)(null===(e=this.applicationLayoutContext)||void 0===e?void 0:e.appSwitchConfig)}updateIsSlottedContent(){const e=this.hostElement.shadowRoot.querySelector(".content slot");this.hasSlottedElements=(0,h.h)(e)}render(){var e;return(0,o.h)(o.H,{key:"5434362f681c6d6d67b1eaf5e5ebc993e578f8e9",class:{[`breakpoint-${this.breakpoint}`]:!0},slot:"application-header"},"sm"===this.breakpoint&&!1===this.suppressResponsive&&(0,o.h)("ix-burger-menu",{onClick:()=>this.onMenuClick(),expanded:this.menuExpanded}),(null===(e=this.applicationLayoutContext)||void 0===e?void 0:e.appSwitchConfig)&&"sm"!==this.breakpoint&&!1===this.suppressResponsive&&(0,o.h)("ix-icon-button",{onClick:()=>this.showAppSwitch(),icon:"apps",ghost:!0,class:"app-switch"}),(0,o.h)("div",{key:"2a40f871e8359d2ad378546773c8ec1b583d1684",class:"logo"},(0,o.h)("slot",{key:"d53fb161f6accdbdd92c7455e0a81faab242054d",name:"logo"})),(0,o.h)("div",{key:"1244da8ee7ddbec82df90f6204948939dc67079c",class:"name"},this.name),(0,o.h)("div",{key:"7a1256fba0480dba4e42da20f55c268b88422a99",class:"content"},"sm"===this.breakpoint?(0,o.h)(o.F,null,(0,o.h)("ix-icon-button",{class:{"context-menu":!0,"context-menu-visible":this.hasSlottedElements},"data-context-menu":!0,icon:"more-menu",ghost:!0}),(0,o.h)("ix-dropdown",{"data-overflow-dropdown":!0,class:"dropdown",discoverAllSubmenus:!0,trigger:this.resolveContextMenuButton()},(0,o.h)("div",{class:"dropdown-content"},(0,o.h)("slot",{onSlotchange:()=>this.updateIsSlottedContent()})))):(0,o.h)("slot",{onSlotchange:()=>this.updateIsSlottedContent()}),(0,o.h)("slot",{key:"6732e9899c977bdd6301b75efce7687ca5a0bf4c",name:"ix-application-header-avatar"})))}get hostElement(){return(0,o.g)(this)}};l.style=":host{display:flex;align-items:center;position:relative;width:100%;height:2.75rem;min-height:2.75rem;padding:0 1rem 0 0.625rem;color:var(--theme-app-header--color);background-color:var(--theme-app-header--background);border-bottom:var(--theme-app-header--border-width) solid var(--theme-app-header--border-color);z-index:var(--theme-z-index-fixed)}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .app-switch{margin-right:1rem}:host .name{overflow:hidden;overflow-wrap:anywhere;text-overflow:ellipsis;text-wrap:nowrap;max-width:50%;margin-left:1.5rem;margin-right:2.5rem;color:var(--theme-app-header--color)}:host .logo{display:inline-flex;align-items:center;position:relative;height:32px;overflow:hidden;line-height:0rem;color:var(--theme-app-header-logo--color);margin-left:0.375rem}:host .content{display:flex;position:relative;flex-direction:row;margin-left:auto;margin-right:0px}:host .dropdown{overflow:visible}:host .dropdown-content{padding:1rem}:host .context-menu{display:none}:host .context-menu.context-menu-visible{display:block}@media only screen and (max-width: 48em){:host .logo{display:none}}:host ::slotted(ix-avatar){margin-left:1rem}:host(.breakpoint-sm){padding-left:0.5rem}:host(.breakpoint-sm) .logo{margin-left:0.5rem}"},2033:(e,t,n)=>{n.d(t,{m:()=>s});var o,i=n(2483);o=new WeakMap;const s=new class{constructor(){this.menuElement=null,this.menuExpandChange=new i.T,o.set(this,!1)}register(e){this.menuElement?console.warn("Menu already defined"):(this.menuElement=e,this.menuElement.addEventListener("expandChange",(e=>{this.menuExpandChange.emit(e.detail)})))}setIsPinned(e){!function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,o,e,"f")}async open(){return!!this.menuElement&&(this.menuElement.toggleMenu(!0),!0)}async close(){return!!this.menuElement&&(this.menuElement.toggleMenu(!1),!0)}async toggle(){return!!this.menuElement&&(this.menuElement.toggleMenu(),!0)}get nativeElement(){return this.menuElement}get expandChange(){return this.menuExpandChange}get isPinned(){return function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,o,"f")}}},7767:(e,t,n)=>{n.d(t,{a:()=>c});var o,i,s,a,r=n(9798),h=n(2483),l=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},d=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};o=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap;const c=new class{constructor(){o.set(this,["sm","md","lg"]),i.set(this,new h.T),s.set(this,"lg"),a.set(this,!0),this.debouncedOnResize=function(e,t){let n;return function(...t){clearTimeout(n),n=setTimeout((()=>{e(...t)}),50)}}(this.onResize.bind(this)),"undefined"!=typeof window&&(window.addEventListener("resize",this.debouncedOnResize.bind(this)),this.debouncedOnResize())}get breakpoint(){return l(this,s,"f")}get onChange(){return l(this,i,"f")}get isDetectionEnabled(){return l(this,a,"f")}onResize(){if(!l(this,a,"f"))return;if(!l(this,o,"f"))return;const e=[];if(l(this,o,"f").forEach((t=>{const n=(0,r.m)(t);e.push([t,n])})),e.every((([e,t])=>!1===t))){let t=0;l(this,o,"f").includes("lg")||(t=e.length-1);const[n,a]=e[t];return l(this,i,"f").emit(n),void d(this,s,n,"f")}for(const[t,n]of e.reverse())if(n){l(this,i,"f").emit(t),d(this,s,t,"f");break}}disableBreakpointDetection(){d(this,a,!1,"f")}enableBreakpointDetection(){d(this,a,!0,"f")}setBreakpoint(e){d(this,s,e,"f"),l(this,i,"f").emit(e)}setBreakpoints(e){d(this,o,e,"f"),this.onResize()}}},4428:(e,t,n)=>{function o(e,t){return t?t.closest(e)||o(e,t.getRootNode().host):null}function i(e){return e.assignedElements({flatten:!0})}function s(e){return!!e&&0!==e.assignedElements({flatten:!0}).length}function a(e,t){return e?e instanceof ShadowRoot?a(e.host,t):e instanceof HTMLElement&&e.matches(t)?e:a(e.parentNode,t):null}n.d(t,{a:()=>a,c:()=>o,g:()=>i,h:()=>s})}}]);